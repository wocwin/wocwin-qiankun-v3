import{i as t,h as e,a as s,N as i}from"./@vue_shared@3.4.31-4611af4a.js";
/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let n;class h{constructor(t,e,s,i){this.fn=t,this.trigger=e,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(t,e){e&&e.active&&e.effects.push(t)}(this,i)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,o.push(l),l=!1;for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(e.computed.value,this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),function(){const t=o.pop();l=void 0===t||t}()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=l,e=n;try{return l=!0,n=this,this._runnings++,r(this),this.fn()}finally{d(this),this._runnings--,n=e,l=t}}stop(){this.active&&(r(this),d(this),this.onStop&&this.onStop(),this.active=!1)}}function r(t){t._trackId++,t._depsLength=0}function d(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)c(t.deps[e],t);t.deps.length=t._depsLength}}function c(t,e){const s=t.get(e);void 0!==s&&e._trackId!==s&&(t.delete(e),0===t.size&&t.cleanup())}let l=!0,_=0;const o=[];const u=[];function f(t,e,s){_++;for(const i of t.keys()){let s;i._dirtyLevel<e&&(null!=s?s:s=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=0===i._dirtyLevel),i._dirtyLevel=e),i._shouldSchedule&&(null!=s?s:s=t.get(i)===i._trackId)&&(i.trigger(),i._runnings&&!i.allowRecurse||2===i._dirtyLevel||(i._shouldSchedule=!1,i.scheduler&&u.push(i.scheduler)))}!function(){for(_--;!_&&u.length;)u.shift()()}()}function a(t){const e=t&&t.__v_raw;return e?a(e):t}new Set(
Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(t));class p{constructor(t,e,s,i){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new h((()=>t(this._value)),(()=>g(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=a(this);var s,i;return t._cacheable&&!t.effect.dirty||!e(t._value,t._value=t.effect.run())||g(t,4),s=t,l&&n&&(s=a(s),function(t,e,s){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&c(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}(n,null!=(i=s.dep)?i:s.dep=((t,e)=>{const s=new Map;return s.cleanup=t,s.computed=e,s})((()=>s.dep=void 0),s instanceof p?s:void 0))),t.effect._dirtyLevel>=2&&g(t,2),t._value}set value(t){this._setter(t)}
// #region polyfill _dirty for backward compatibility third party code for Vue <= 3.3.x
get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function v(t,e,n=!1){let h,r;const d=s(t);d?(h=t,r=i):(h=t.get,r=t.set);return new p(h,r,d||!r,n)}function g(t,e=4,s,i){const n=(t=a(t)).dep;n&&f(n,e)}export{v as c};
