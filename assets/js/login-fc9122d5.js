import{b as e}from"./@vue_runtime-dom@3.2.47-5973e798.js";import{b as s}from"./vue-router@4.1.6_vue@3.2.47-4eddb652.js";import{d as t,u as o,a as r,e as a,f as i,g as l}from"./index-04dfccf0.js";import{a as m}from"./js-cookie@3.0.1-d59fc71c.js";import{J as n}from"./jsencrypt@3.0.0-rc.1-c78380f1.js";import{s as p}from"./pinia@2.0.33_typescript@5.0.4_vue@3.2.47-1cc53714.js";import{c as u}from"./element-plus@2.6.1_vue@3.2.47-3d03d762.js";import{d as c,Y as d,o as w,c as j,F as f,V as v,a as g,e as _,K as k,O as y}from"./@vue_runtime-core@3.2.47-371f6b9e.js";import{j as A,r as b,u as h,a as V}from"./@vue_reactivity@3.2.47-c13b9e33.js";import{p as M,o as Q}from"./@vue_shared@3.2.47-5fd227e6.js";import"./nprogress@0.2.0-84b05b9c.js";import"./@babel_runtime@7.24.7-2c958d86.js";import"./sortablejs@1.15.0-c3bad686.js";import"./@vueuse_shared@9.13.0_vue@3.2.47-c76ec578.js";import"./axios@1.3.4-e3d92af1.js";import"./vue-i18n@9.2.2_vue@3.2.47-32093df0.js";import"./@intlify_shared@9.2.2-31f634ea.js";import"./@intlify_core-base@9.2.2-7f865f2a.js";import"./@intlify_message-compiler@9.2.2-ddc7e24e.js";import"./source-map@0.6.1-742f754f.js";import"./@intlify_devtools-if@9.2.2-c4c7726f.js";import"./vue@3.2.47-1f3ee0d5.js";import"./@element-plus_icons-vue@2.1.0_vue@3.2.47-8bf6786e.js";import"./mitt@3.0.0-f0e54764.js";import"./@vueuse_core@9.13.0_vue@3.2.47-68909c03.js";import"./vue-marquee-text-component@2.0.1-f0d3aa66.js";import"./pinia-plugin-persistedstate@3.1.0_pinia@2.0.33-d2bd58cf.js";import"./echarts@5.4.2-e69032dd.js";import"./tslib@2.3.0-a4e99503.js";import"./zrender@5.4.3-b1e59f6a.js";import"./@wocwin_t-ui-plus@1.4.8-aa924113.js";import"./qiankun@2.10.16-9ca02a02.js";import"./lodash@4.17.21-83769d0e.js";import"./single-spa@5.9.5-2b0cf9df.js";import"./import-html-entry@1.17.0-854230c4.js";import"./vue-demi@0.14.8_vue@3.2.47-71ba0ef2.js";import"./lodash-es@4.17.21-6068323c.js";import"./@element-plus_icons-vue@2.3.1_vue@3.2.47-7e0a58ec.js";import"./@sxzz_popperjs-es@2.11.7-b78c3215.js";import"./@ctrl_tinycolor@3.6.1-08719ea3.js";import"./dayjs@1.11.7-45024b84.js";import"./@vue_reactivity@3.4.31-2cd633d3.js";import"./@vue_shared@3.4.31-4611af4a.js";import"./async-validator@4.2.5-cf877c1f.js";import"./memoize-one@6.0.0-63ab667a.js";import"./normalize-wheel-es@1.2.0-3222b0a2.js";import"./@floating-ui_dom@1.6.7-4dd29eb9.js";import"./@floating-ui_core@1.6.4-45627f23.js";import"./@floating-ui_utils@0.2.4-2382c5cb.js";const U={class:"login"},B={class:"content"},x=g("div",{class:"login-left"},[
g("img",{class:"login-left-img",src:"/wocwin-qiankun-v3/assets/png/login-ae647886.png",alt:"login"})],-1),N={class:"input-format"},q={class:"form_content"},R=g("img",{src:"/wocwin-qiankun-v3/assets/jpg/logo-a68a2ac2.jpg",class:"logon"},null,-1),F=g("div",{class:"title_box"},[
g("h2",{class:"title"},"Wocwin-Vue3主应用")],-1),J={key:0},z={key:1},D=c({name:"login"}),I=c({...D,setup(c){const D=t(),{isWatermark:I}=p(D),K=o(),P=r(),S=a(),C=A({username:"wocwin",password:"123456",rememberMe:!1}),E=A({username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]}),H=m.get("wocwinQkV3Username"),Y=m.get("wocwinQkV3Password"),G=m.get("wocwinQkV3RememberMe");C.username=H||C.username,C.password=Y?function(e){const s=new n;return s.setPrivateKey("MIIBUwIBADANBgkqhkiG9w0BAQEFAASCAT0wggE5AgEAAkEA0vfvyTdGJkdbHkB8\nmp0f3FE0GYP3AYPaJF7jUd1M0XxFSE2ceK3k2kw20YvQ09NJKk+OMjWQl9WitG9p\nB6tSCQIDAQABAkA2SimBrWC2/wvauBuYqjCFwLvYiRYqZKThUS3MZlebXJiLB+Ue\n/gUifAAKIg1avttUZsHBHrop4qfJCwAI0+YRAiEA+W3NK/RaXtnRqmoUUkb59zsZ\nUBLpvZgQPfj1MhyHDz0CIQDYhsAhPJ3mgS64NbUZmGWuuNKp5coY2GIj/zYDMJp6\nvQIgUueLFXv/eZ1ekgz2Oi67MNCk5jeTF2BurZqNLR3MSmUCIFT3Q6uHMtsB9Eha\n4u7hS31tj1UWE+D+ADzp59MGnoftAiBeHT7gDMuqeJHPL4b+kC+gzV4FGTfhR9q3\ntTbklZkD2A=="),s.decrypt(e)}(Y):C.password,C.rememberMe=!!G&&Boolean(G);const L=b(!1),T=s(),Z=b(),W=async e=>{e&&await e.validate(((e,s)=>{e&&(L.value=!0,C.rememberMe?(m.set("wocwinQkV3Username",C.username,{expires:30}),m.set("wocwinQkV3Password",function(e){const s=new n;return s.setPublicKey("MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBANL378k3RiZHWx5AfJqdH9xRNBmD9wGD\n2iRe41HdTNF8RUhNnHit5NpMNtGL0NPTSSpPjjI1kJfVorRvaQerUgkCAwEAAQ=="),s.encrypt(e)}(C.password),{expires:30}),m.set("wocwinQkV3RememberMe",String(C.rememberMe),{expires:30})):(m.remove("wocwinQkV3Username"),m.remove("wocwinQkV3Password"),m.remove("wocwinQkV3RememberMe")),S.Login(C).then((async e=>{e.success&&(K.closeMultipleTab(),P.setKeepAliveName(),T.push({path:"/"}),u({title:l(),message:"欢迎登录 Wocwin-Qiankun-Vue3主应用；"+("wocwin"===e.data.loginName?"超管账号":"游客账号"),type:"success",duration:3e3}))})).finally((()=>L.value=!1)))}))};return(s,t)=>{const o=d("el-tooltip"),r=d("el-switch"),a=d("User"),l=d("el-icon"),m=d("el-input"),n=d("el-form-item"),p=d("Lock"),u=d("el-checkbox"),c=d("el-button"),A=d("el-form");return w(),j("div",U,[(w(),j(f,null,v(10,(e=>g("div",{class:"square",key:e,style:M("--i: "+(e-1))},null,4))),64)),g("div",B,[(w(),j(f,null,v(6,(e=>g("div",{class:Q(`star${e}`),key:e},null,2))),64)),_(o,{content:"暗黑模式切换",effect:"dark",placement:"top"},{default:k((()=>[_(i,{class:"dark"})])),_:1}),_(o,{content:"水印是否显示",effect:"dark",placement:"top"},{default:k((()=>[_(r,{class:"watermark","active-text":"水印",modelValue:h(I),"onUpdate:modelValue":t[0]||(t[0]=e=>V(I)?I.value=e:null)},null,8,["modelValue"])])),_:1}),x,g("div",N,[g("div",q,[R,F,_(A,{ref_key:"loginFormRef",ref:Z,model:h(C),rules:h(E),class:"login-form"},{default:k((()=>[_(n,{prop:"username"},{default:k((()=>[_(m,{modelValue:h(C).username,"onUpdate:modelValue":t[1]||(t[1]=e=>h(C).username=e),clearable:"",type:"text",placeholder:"wocwin/user"},{prefix:k((()=>[_(l,null,{default:k((()=>[_(a)])),_:1})])),_:1},8,["modelValue"])])),_:1}),_(n,{prop:"password"},{default:k((()=>[_(m,{modelValue:h(C).password,"onUpdate:modelValue":t[2]||(t[2]=e=>h(C).password=e),type:"password",placeholder:"123456",clearable:"",onKeyup:t[3]||(t[3]=e((e=>W(h(Z))),["enter"])),"show-password":""},{prefix:k((()=>[_(l,null,{default:k((()=>[_(p)])),_:1})])),_:1},8,["modelValue"])])),_:1}),_(n,{style:{width:"100%"}},{default:k((()=>[_(u,{modelValue:h(C).rememberMe,"onUpdate:modelValue":t[4]||(t[4]=e=>h(C).rememberMe=e)},{default:k((()=>[y("记住密码")])),_:1},8,["modelValue"])])),_:1}),_(n,{style:{width:"100%"}},{default:k((()=>[_(c,{loading:h(L),size:"default",type:"primary",style:{width:"100%"},onClick:t[5]||(t[5]=e=>W(h(Z)))},{default:k((()=>[h(L)?(w(),j("span",z,"登 录 中...")):(w(),j("span",J,"登 录"))])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])])])])}}});export{I as default};
